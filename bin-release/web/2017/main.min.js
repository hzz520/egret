var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload",0),RES.loadGroup("loading",1)},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),this.MainView=new chanel1,this.stage.addChild(this.MainView))},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded)},t.prototype.onAddToStage=function(e){this.name="main",this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var btn_me=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.flag=!0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="btn_me",this._data=RES.getRes("ani").mcObjs;var e=-1!=window.navigator.userAgent.indexOf("NetType")?0:50;this._data.btn_me.layers.forEach(function(t,r,i){t.forEach(function(t,r){if(t.libName&&t.libName.indexOf("mc")>-1){var i=this._data[t.libName],a=i.totalFrame;i.layers.forEach(function(t,r){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture,this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),1==t.length&&t[0].libName.indexOf("mc")>-1?(this.layers[r].layer.x=t.x+(t.cx||0),this.layers[r].layer.y=t.y+(t.cy||0)+e,i=this._data[t[0].libName],this.layers[r].texture=i,1==i.layers.length?(this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].frameStopArr.push(i.layers[0].frameNum||1)):(this.layers[r].imgArr=[],i.layers.forEach(function(e,t){this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].frameStopArr[t]=[],this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i){var a=0==i?e.frameNum||1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum||1);this.layers[r].frameStopArr[t].push(a)},this)},this))):(this.layers[r].texture=t,this.layers[r].texture.totalFrame=a,this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),t.forEach(function(e,t){var i=0==t?e.frameNum||1:this.layers[r].frameStopArr[t-1]+(e.frameNum||1);this.layers[r].frameStopArr.push(i)},this))},this)}},this)},this)},t.prototype.onEnterFrame=function(){this.layers.forEach(function(e,t,r){if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var t=0;t<e.frameStopArr.length;t++)if(e.currentFrame<=e.frameStopArr[t]){i=t;break}var a=void 0==e.texture.layers?e.texture[i]:e.texture.layers[0][i],s=void 0==e.texture.layers?e.texture[0]:e.texture.layers[0][0];void 0==e.texture.layers,e.img.texture=RES.getRes(a.libName||s.libName),e.img.matrix=new egret.Matrix(a.a||1,a.b||0,a.c||0,a.d||1,(a.x||0)+(a.cx||0),(a.y||0)+(a.cy||0)),e.img.alpha=a.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t){for(var r=this.frameStopArr[t].length-1,i=0;i<this.frameStopArr[t].length;i++)if(this.currentFrame<=this.frameStopArr[t][i]){r=i;break}var a=this.texture.layers[t][r],s=this.texture.layers[t][0].libName;e.texture=RES.getRes(a.libName||s),e.matrix=new egret.Matrix(a.a,a.b,a.c,a.d,(a.x||0)+(a.cx||0),(a.y||0)+(a.cy||0)),e.alpha=a.al||1},e)},this)},t}(egret.Sprite);__reflect(btn_me.prototype,"btn_me");var chanel1=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onTimer,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="chanel1",this._data=RES.getRes("ani").mcObjs,this.graphics.beginFill(16777215,0),this.graphics.drawRect(0,0,640,1139),this.graphics.endFill();var e=window.navigator.userAgent,t=e.indexOf("Mobile")>-1&&window.navigator.vendor.indexOf("Google")>-1&&-1==e.indexOf("MicroMessenger")&&-1==e.indexOf("QQ")?50:0;this._data.main.layers.forEach(function(e,r,i){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),e.forEach(function(e,i,a){if(this.layers[r].layer.x=e.x+(e.cx||0),this.layers[r].layer.y=e.y+(e.cy||0)+t,-1==e.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=e,this.layers[r].img.texture=RES.getRes(e.libName),this.layers[r].img.alpha=e.al||1;else{var s=this._data[e.libName];if(this.layers[r].texture=s,1!=s.layers.length)this.layers[r].imgArr=[],s.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this);else{var n=s.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(n.libName),this.layers[r].img.matrix=new egret.Matrix(n.a||1,n.b||0,n.c||0,n.d||1,n.x,n.y),this.layers[r].img.alpha=n.al||1,s.layers[0].forEach(function(e,t,i){var a=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(a)},this)}}},this)},this),this.main_btn=new main_btn,this.$parent.addChild(this.main_btn)},t.prototype.onTimer=function(e){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t,r){for(var i=this.frameStopArr[t].length-1,a=0;a<this.frameStopArr[t].length;a++)if(this.currentFrame<=this.frameStopArr[t][a]){i=a;break}var s=this.texture.layers[t][i],n=r.length>2?this.texture.layers[t][0].libName:null;e.texture=RES.getRes(s.libName||n),e.matrix=new egret.Matrix(s.a,s.b,s.c,s.d,(s.x||0)+(s.cx||0),(s.y||0)+(s.cy||0)),e.alpha=s.al||1},e)},this)},t}(egret.Sprite);__reflect(chanel1.prototype,"chanel1");var chanel2=function(e){function t(){var t=e.call(this)||this;return t.i=0,t.flag=!1,t.flag1=!1,t.flag2=!0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ADDED,t.onAdded,t),t}return __extends(t,e),t.prototype.onLoadComplete=function(e){this.xu=e.target},t.prototype.onAdded=function(){var e=this;this.timer2=new egret.Timer(33,10),this.timer3=new egret.Timer(33,10),this.chanel3=new chanel3;var t=new egret.Sound;t.load("resource/xu.mp3"),t.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.timer2.addEventListener(egret.TimerEvent.TIMER,this.onTimer2,this),this.timer2.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimer2Cpl,this),this.timer3.addEventListener(egret.TimerEvent.TIMER,this.onTimer2,this),this.timer3.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimer2Cpl,this),document.getElementsByTagName("video")[0].onended=function(){[0,1,2,3].forEach(function(e,t,r){this.tabViews.$children[0].$children[t].alpha=egret.localStorage.getItem("index")==t+1+""?1:0},e),document.getElementsByTagName("video")[0].src="",document.getElementsByTagName("audio")[0].play(),e.timer2.start()}},t.prototype.onTimer2=function(e){e.target===this.timer2?this.tabViews.alpha=this.parent.getChildByName("main").alpha=this.getChildByName("chooseBtnView").alpha+=.1:"true"==egret.localStorage.getItem("vidIndex1")&&"true"==egret.localStorage.getItem("vidIndex2")&&"true"==egret.localStorage.getItem("vidIndex3")&&"true"==egret.localStorage.getItem("vidIndex4")?(this.flag1||this.xu.play(0,1),this.alpha=1-.1*e.target.currentCount):(this.tabView.alpha=1-.1*e.target.currentCount,this.tabViews.alpha=0+.1*e.target.currentCount)},t.prototype.onTimer2Cpl=function(e){e.target.reset(),e.target===this.timer3&&"true"==egret.localStorage.getItem("vidIndex1")&&"true"==egret.localStorage.getItem("vidIndex2")&&"true"==egret.localStorage.getItem("vidIndex3")&&"true"==egret.localStorage.getItem("vidIndex4")&&(this.parent.addChild(this.chanel3),this.parent.removeChild(this))},t.prototype.onAddToStage=function(){this.name="chanel2";var e=new egret.Sound;e.addEventListener(egret.Event.COMPLETE,this.onLoopLoadComplete,this),e.load("resource/loop.mp3"),this.graphics.beginFill(16777215,0),this.graphics.drawRect(0,0,640,1139),this.graphics.endFill(),this.timerTab=new egret.Timer(100,0),this.alpha=0;var t=RES.getRes("a1");this.tabImg=new egret.Bitmap,this.tabImg.texture=t,this.tabView=new egret.Sprite,this.tabView.name="tabView",this.tabView.x=(this.graphics.$renderNode.width-t._bitmapWidth)/2,this.tabView.y=100,this.tabView.addChild(this.tabImg),this.addChild(this.tabView),this.tabViews=new tabViews;var t=RES.getRes("btn_choose"),r=new egret.Bitmap;r.texture=t,this.chooseBtnView=new egret.Sprite,this.chooseBtnView.name="chooseBtnView",this.chooseBtnView.touchEnabled=!0,this.chooseBtnView.x=(this.graphics.$renderNode.width-t._bitmapWidth)/2,this.chooseBtnView.y=innerHeight/innerWidth*640-t._bitmapHeight-75,this.chooseBtnView.addChild(r),this.addChild(this.chooseBtnView),this.timer=new egret.Timer(50,10),this.timer.start(),this.chooseBtnView.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.chooseBtnView.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete,this),this.timerTab.addEventListener(egret.TimerEvent.TIMER,this.onTimerTab,this)},t.prototype.onLoopLoadComplete=function(e){this.soundLoop=e.target},t.prototype.onTimer=function(){this.alpha+=.1},t.prototype.onTimerComplete=function(){this.alpha=1},t.prototype.onTouchTap=function(e){this.timerTab.stop(),this.flag||(this.addChildAt(this.tabViews,1),this.flag=!0),this.soundLoopController.stop(),[0,1,2,3].forEach(function(e,t,r){this.tabViews.$children[0].$children[t].alpha=egret.localStorage.getItem("index")==t+1+""?1:0},this),this.timer3.start()},t.prototype.onTouchBegin=function(e){if(this.flag2){var t=window.navigator.userAgent;t.indexOf("Mobile")>-1&&-1==window.navigator.vendor.indexOf("Google")&&-1==t.indexOf("MicroMessenger")&&-1==t.indexOf("QQ")&&document.getElementsByTagName("audio")[0].play(),this.flag2=!1}this.getChildByName("tabViews")&&([0,1,2,3].forEach(function(e,t,r){this.tabViews.$children[0].$children[t].alpha=0},this),this.tabViews.alpha=0,this.tabView.alpha=1),this.soundLoopController=this.soundLoop.play(0,0),this.timerTab.start()},t.prototype.onTimerTab=function(e){this.i++,5==this.i&&(this.i=1),egret.localStorage.setItem("index",""+this.i),this.tabImg.texture=RES.getRes("a"+this.i)},t}(egret.Sprite);__reflect(chanel2.prototype,"chanel2");var chanel3=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="chanel3";var e=new egret.Sound;e.load("resource/eff2.mp3"),e.addEventListener(egret.Event.COMPLETE,this.onLoaded,this),this.timerShare=new egret.Timer(150,10),this.timerShare.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timerShare.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerCpl,this),this.parent.$children[0].alpha=.3,this.graphics.beginFill(16777215,0),this.graphics.drawRect(0,0,640,1139),this.graphics.endFill(),this.alpha=0,this._data=RES.getRes("ani").mcObjs,this.btn_share=new btn_share,this.btn_me=new btn_me,this.xu=new xu,this.btn_share.touchEnabled=!0,this.btn_me.touchEnabled=!0,this.btn_me.width=this.btn_share.width=230,this.btn_share.x=(640-this.btn_share.width)/2,this.btn_share.y=640,this.btn_me.x=(640-this.btn_me.width)/2,this.btn_me.y=780,this.xu.width=320,this.xu.x=640-this.xu.width,this.xu.y=500,this.shareImg=new egret.Bitmap,this.shareImg.texture=RES.getRes("ae"),this.shareImg.alpha=0,this.shareImg.x=640-this.shareImg.texture.textureWidth-20,this.shareImg.y=20,this.addChild(this.btn_share),this.addChild(this.btn_me),this.addChild(this.xu),this.addChild(this.shareImg);var t=-1!=window.navigator.userAgent.indexOf("NetType")?0:50;this._data.end.layers.forEach(function(e,r,i){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),e.forEach(function(e,i){if(this.layers[r].layer.x=e.x+(e.cx||0),this.layers[r].layer.y=e.y+(e.cy||0)+t,-1==e.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=e,this.layers[r].img.texture=RES.getRes(e.libName),this.layers[r].img.alpha=e.al||1;else{var a=this._data[e.libName];if(this.layers[r].texture=a,1!=a.layers.length)this.layers[r].imgArr=[],a.layers.forEach(function(e,t){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var a=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(a)},this)},this);else{var s=a.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(s.libName),this.layers[r].img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x,s.y),this.layers[r].img.alpha=s.al||1,a.layers[0].forEach(function(e,t){var i=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(i)},this)}}},this)},this),this.timer=new egret.Timer(33,10),this.timer.start(),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.btn_share.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn_me.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},t.prototype.onTouchTap=function(e){var t=e.target;t===this.btn_me?window.location.href="https://github.com/hzz520/egretPublicize":(this.music.play(0,1),this.timerShare.start())},t.prototype.onLoaded=function(e){this.music=e.target},t.prototype.onTimer=function(e){if(e.target===this.timer)this.alpha=0+.1*e.target.currentCount;else switch(e.target.currentCount%2){case 0:this.shareImg.alpha=.5;break;case 1:this.shareImg.alpha=1}},t.prototype.onTimerCpl=function(){this.shareImg.alpha=0,this.timerShare.reset()},t.prototype.onEnterFrame=function(){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t){for(var r=this.frameStopArr[t].length-1,i=0;i<this.frameStopArr[t].length;i++)if(this.currentFrame<=this.frameStopArr[t][i]){r=i;break}var a=this.texture.layers[t][r],s=void 0!=a.x?this.texture.layers[t][0].libName:null;e.texture=RES.getRes(a.libName||s),e.matrix=new egret.Matrix(a.a,a.b,a.c,a.d,(a.x||0)+(a.cx||0),(a.y||0)+(a.cy||0)),e.alpha=a.al||1},e)},this)},t}(egret.Sprite);__reflect(chanel3.prototype,"chanel3");var indicateView=function(e){function t(){var t=e.call(this)||this;return t.flag1=!1,t.flag2=!1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onTimer,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="indicateView",this.graphics.beginFill(16777215,0),this.graphics.drawRect(0,0,640,1136),this.graphics.endFill(),this.hand=new egret.Bitmap,this.hand.texture=RES.getRes("hand"),this.handView=new egret.Sprite,this.handView.name="handView",this.handView.alpha=.6,this.handView.y=innerHeight/innerWidth*this.graphics.$renderNode.width-this.hand.texture.textureHeight-276,this.handView.x=(this.graphics.$renderNode.width-this.hand.texture.textureWidth)/2,this.handView.addChild(this.hand),this.addChild(this.handView),this.txt=new egret.Bitmap,this.txt.texture=RES.getRes("txt"),this.txtView=new egret.Sprite,this.txtView.name="txtView",this.txtView.alpha=.8,this.txtView.y=innerHeight/innerWidth*this.graphics.$renderNode.width-this.txt.texture.textureHeight-450,this.txtView.x=(this.graphics.$renderNode.width-this.txt.texture.textureWidth)/2,this.txtView.addChild(this.txt),this.addChild(this.txtView)},t.prototype.onTimer=function(){var e=this.handView,t=this.txtView;this.flag1?(e.alpha+=.04,e.alpha>=1&&(e.alpha=.98,this.flag1=!1)):(e.alpha-=.04,e.alpha<=.5&&(e.alpha=.51,this.flag1=!0)),this.flag2?(t.alpha+=.04,t.alpha>=1&&(t.alpha=.98,this.flag2=!1)):(t.alpha-=.04,t.alpha<=.5&&(t.alpha=.51,this.flag2=!0))},t}(egret.Sprite);__reflect(indicateView.prototype,"indicateView");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.textField=new egret.TextField,this.name="LoadingUI",this.bgImg=new egret.Bitmap,this.img=new egret.Bitmap,RES.getResByUrl("resource/img/ld_bg.jpg",function(e){this.bgImg.texture=e,this.parent.getChildByName("main").addChild(this.bgImg)},this),RES.getResByUrl("resource/img/ld.png",function(e){this.img.texture=e,this.img.x=(640-this.img.texture._bitmapWidth)/2,this.img.y=(innerHeight/innerWidth*640-this.img.texture._bitmapHeight)/2},this),this.addChild(this.img),this.addChild(this.textField),this.textField.size=24,this.textField.height=100,this.textField.verticalAlign="middle",this.textField.textAlign="center",this.textField.width=640,this.textField.y=(innerHeight/innerWidth*640-this.textField.height)/2},t.prototype.setProgress=function(e){this.textField.text=e+"0%"},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var main_btn=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.scale=1.25,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddtoStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,e),t.prototype.onAddtoStage=function(e){this.name="main_btn";var t=new egret.Sound;t.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),t.load("resource/eff1.mp3"),this._data=RES.getRes("ani").mcObjs;var r=this._data[this._data.main_btn.layers[0][0].libName].layers[0][0].libName,i=-1!=window.navigator.userAgent.indexOf("NetType")?80:90,a=RES.getRes(r)._bitmapWidth,s=this._data.main_btn.stageHeight,n=(this._data.main_btn.screenH-this.scale*a)/2,h=innerHeight/innerWidth*640-s-i;this.x=n,this.y=h,this.width=a,this.height=s,this.touchEnabled=!0,this._data.main_btn.layers.forEach(function(e,t,r){this.layers[t]={},this.layers[t].frameStopArr=[],this.layers[t].texture={},this.layers[t].currentFrame=0,this.layers[t].layer=new egret.Sprite,this.addChild(this.layers[t].layer),e.forEach(function(e,r,i){var a=this._data[e.libName];a.layers[0][0];this.layers[t].texture=a,this.layers[t].layer.x=this.scale*e.x,this.layers[t].layer.y=this.scale*e.y,this.layers[t].img=new egret.Bitmap,this.layers[t].layer.addChild(this.layers[t].img),a.layers[0].forEach(function(e,r,i){var a=0==r?e.frameNum?e.frameNum:1:this.layers[t].frameStopArr[r-1]+(e.frameNum?e.frameNum:1);this.layers[t].frameStopArr.push(a)},this)},this)},this),this.timer=new egret.Timer(50,10),this.timerRound=new egret.Timer(33,0),this.timerRound.start(),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete,this),this.timerRound.addEventListener(egret.TimerEvent.TIMER,this.onTimerRound,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},t.prototype.onLoadComplete=function(e){this.sound=e.target},t.prototype.onSoundComplete=function(e){console.log(2),this.timer.start(),document.getElementById("aud").setAttribute("src","resource/bgm2.mp3")},t.prototype.onTouchTap=function(e){document.getElementById("aud").setAttribute("src","");var t=this.sound.play(0,1);t.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this)},t.prototype.onTimer=function(){this.$parent.getChildByName("chanel1").alpha=this.alpha-=.1},t.prototype.onTimerComplete=function(){this.chanel2=new chanel2;var e=this.$parent.getChildByName("chanel1");e.alpha=this.alpha=0,this.$parent.removeChild(e),this.$parent.addChild(this.chanel2),this.timer.stop(),this.$parent.removeChild(this)},t.prototype.onTimerRound=function(e){this.layers.forEach(function(e,t,r){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||this.scale,s.b||0,s.c||0,s.d||this.scale,(2==t?this.scale:1)*(s.x+(s.cx||0)),(2==t?this.scale:1)*(s.y+(s.cy||0))),e.img.alpha=s.al||1},this)},t.prototype.onRemoveFromStage=function(){this.timerRound.stop(),egret.localStorage.setItem("vidIndex1","false"),egret.localStorage.setItem("vidIndex2","false"),egret.localStorage.setItem("vidIndex3","false"),egret.localStorage.setItem("vidIndex4","false")},t}(egret.Sprite);__reflect(main_btn.prototype,"main_btn");var btn_share=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="btn_share",this._data=RES.getRes("ani").mcObjs;var e=-1!=window.navigator.userAgent.indexOf("NetType")?0:50;this._data.btn_share.layers.forEach(function(t,r,i){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),t.forEach(function(t,i,a){if(this.layers[r].layer.x=t.x+(t.cx||0),this.layers[r].layer.y=t.y+(t.cy||0)+e,-1==t.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=t,this.layers[r].img.texture=RES.getRes(t.libName),this.layers[r].img.alpha=t.al||1;else{var s=this._data[t.libName];if(this.layers[r].texture=s,1!=s.layers.length)this.layers[r].imgArr=[],s.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this);else if(-1==s.layers[0][0].libName.indexOf("mc")){var n=s.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(n.libName),this.layers[r].img.matrix=new egret.Matrix(n.a||1,n.b||0,n.c||0,n.d||1,n.x,n.y),this.layers[r].img.alpha=n.al||1,s.layers[0].forEach(function(e,t,i){var a=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(a)},this)}else if(s=this._data[s.layers[0][0].libName],this.layers[r].texture=s,1==s.layers.length){var n=s.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(n.libName),this.layers[r].img.matrix=new egret.Matrix(n.a||1,n.b||0,n.c||0,n.d||1,n.x,n.y),this.layers[r].img.alpha=n.al||1,s.layers[0].forEach(function(e,t,i){var a=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(a)},this)}else this.layers[r].imgArr=[],s.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this)}},this)},this)},t.prototype.onTimer=function(e){this.alpha=0+.1*e.target.currentCount},t.prototype.onEnterFrame=function(){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t,r){for(var i=this.frameStopArr[t].length-1,a=0;a<this.frameStopArr[t].length;a++)if(this.currentFrame<=this.frameStopArr[t][a]){i=a;break}var s=this.texture.layers[t][i],n=this.texture.layers[t][0].libName||null;e.texture=RES.getRes(s.libName||n),e.matrix=new egret.Matrix(s.a,s.b,s.c,s.d,(s.x||0)+(s.cx||0),(s.y||0)+(s.cy||0)),e.alpha=s.al||1},e)},this)},t}(egret.Sprite);__reflect(btn_share.prototype,"btn_share");var tabView1=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.flag=!0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="tabView1",this._data=RES.getRes("ani").mcObjs;var e=window.navigator.userAgent,t=e.indexOf("Mobile")>-1&&window.navigator.vendor.indexOf("Google")>-1&&-1==e.indexOf("MicroMessenger")&&-1==e.indexOf("QQ")?50:0;this._data.ani1.layers.forEach(function(e,r,i){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),e.forEach(function(e,i,a){if(this.layers[r].layer.x=e.x+(e.cx||0),this.layers[r].layer.y=e.y+(e.cy||0)+t,-1==e.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=e,this.layers[r].img.texture=RES.getRes(e.libName),this.layers[r].img.alpha=e.al||1;else{var s=this._data[e.libName];if(this.layers[r].texture=s,1!=s.layers.length)this.layers[r].imgArr=[],s.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this);else{var n=s.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(n.libName),this.layers[r].img.matrix=new egret.Matrix(n.a||1,n.b||0,n.c||0,n.d||1,n.x,n.y),this.layers[r].img.alpha=n.al||1,s.layers[0].forEach(function(e,t,i){var a=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(a)},this)}}},this)},this),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimer,this)},t.prototype.onTimer=function(){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t,r){for(var i=this.frameStopArr[t].length-1,a=0;a<this.frameStopArr[t].length;a++)if(this.currentFrame<=this.frameStopArr[t][a]){i=a;break}var s=this.texture.layers[t][i],n=this.texture.layers[t][0].libName;e.texture=RES.getRes(s.libName||n),e.matrix=new egret.Matrix(s.a,s.b,s.c,s.d,(s.x||0)+(s.cx||0),(s.y||0)+(s.cy||0)),e.alpha=s.al||1},e)},this)},t}(egret.Sprite);__reflect(tabView1.prototype,"tabView1");var tabView2=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ADDED,t.onAdded,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,e),t.prototype.onAdded=function(){},t.prototype.onAddToStage=function(){this.name="tabView2",this._data=RES.getRes("ani").mcObjs;var e=window.navigator.userAgent,t=e.indexOf("Mobile")>-1&&window.navigator.vendor.indexOf("Google")>-1&&-1==e.indexOf("MicroMessenger")&&-1==e.indexOf("QQ")?50:0;this._data.ani2.layers.forEach(function(e,r){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),e.forEach(function(e,i){if(this.layers[r].layer.x=e.x+(e.cx||0),this.layers[r].layer.y=e.y+(e.cy||0)+t,-1==e.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=e,this.layers[r].img.texture=RES.getRes(e.libName),this.layers[r].img.alpha=e.al||1;else{var a=this._data[e.libName];this.layers[r].texture=a,this.layers[r].imgArr=[],a.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this)}},this)},this),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimer,this)},t.prototype.onRemoveFromStage=function(){},t.prototype.onTimer=function(){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);
for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t,r){for(var i=this.frameStopArr[t].length-1,a=0;a<this.frameStopArr[t].length;a++)if(this.currentFrame<=this.frameStopArr[t][a]){i=a;break}var s=this.texture.layers[t][i],n=this.texture.layers[t][0].libName;e.texture=RES.getRes(s.libName||n),e.matrix=new egret.Matrix(s.a,s.b,s.c,s.d,(s.x||0)+(s.cx||0),(s.y||0)+(s.cy||0)),e.alpha=s.al||1},e)},this)},t}(egret.Sprite);__reflect(tabView2.prototype,"tabView2");var tabView3=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="tabView3",this._data=RES.getRes("ani").mcObjs;var e=window.navigator.userAgent,t=e.indexOf("Mobile")>-1&&window.navigator.vendor.indexOf("Google")>-1&&-1==e.indexOf("MicroMessenger")&&-1==e.indexOf("QQ")?50:0;this._data.ani3.layers.forEach(function(e,r,i){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),e.forEach(function(e,i,a){if(this.layers[r].layer.x=e.x+(e.cx||0),this.layers[r].layer.y=e.y+(e.cy||0)+t,-1==e.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=e,this.layers[r].img.texture=RES.getRes(e.libName),this.layers[r].img.alpha=e.al||1;else{var s=this._data[e.libName];if(this.layers[r].texture=s,1!=s.layers.length)this.layers[r].imgArr=[],s.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this);else if(-1==s.layers[0][0].libName.indexOf("mc")){var n=s.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(n.libName),this.layers[r].img.matrix=new egret.Matrix(n.a||1,n.b||0,n.c||0,n.d||1,n.x,n.y),this.layers[r].img.alpha=n.al||1,s.layers[0].forEach(function(e,t,i){var a=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(a)},this)}else if(s=this._data[s.layers[0][0].libName],this.layers[r].texture=s,1==s.layers.length){var n=s.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(n.libName),this.layers[r].img.matrix=new egret.Matrix(n.a||1,n.b||0,n.c||0,n.d||1,n.x,n.y),this.layers[r].img.alpha=n.al||1,s.layers[0].forEach(function(e,t,i){var a=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(a)},this)}else this.layers[r].imgArr=[],s.layers.forEach(function(e,t,i){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i,a){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var s=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(s)},this)},this)}},this)},this),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimer,this)},t.prototype.onTimer=function(){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t,r){for(var i=this.frameStopArr[t].length-1,a=0;a<this.frameStopArr[t].length;a++)if(this.currentFrame<=this.frameStopArr[t][a]){i=a;break}var s=this.texture.layers[t][i],n=this.texture.layers[t][0].libName||null;e.texture=RES.getRes(s.libName||n),e.matrix=new egret.Matrix(s.a,s.b,s.c,s.d,(s.x||0)+(s.cx||0),(s.y||0)+(s.cy||0)),e.alpha=s.al||1},e)},this)},t}(egret.Sprite);__reflect(tabView3.prototype,"tabView3");var tabView4=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="tabView4",this._data=RES.getRes("ani").mcObjs;var e=window.navigator.userAgent,t=e.indexOf("Mobile")>-1&&window.navigator.vendor.indexOf("Google")>-1&&-1==e.indexOf("MicroMessenger")&&-1==e.indexOf("QQ")?50:0;this._data.ani4.layers.forEach(function(e,r,i){this.layers[r]={},this.layers[r].frameStopArr=[],this.layers[r].texture={},this.layers[r].currentFrame=0,this.layers[r].layer=new egret.Sprite,this.addChild(this.layers[r].layer),e.forEach(function(e,i){if(this.layers[r].layer.x=e.x+(e.cx||0),this.layers[r].layer.y=e.y+(e.cy||0)+t,-1==e.libName.indexOf("mc"))this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].texture=e,this.layers[r].img.texture=RES.getRes(e.libName),this.layers[r].img.alpha=e.al||1;else{var a=this._data[e.libName];if(this.layers[r].texture=a,1!=a.layers.length)this.layers[r].imgArr=[],a.layers.forEach(function(e,t){e[0];this.layers[r].imgArr[t]=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].imgArr[t]),e.forEach(function(e,i){void 0==this.layers[r].frameStopArr[t]&&(this.layers[r].frameStopArr[t]=[]);var a=0==i?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t][i-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr[t].push(a)},this)},this);else{var s=a.layers[0][0];this.layers[r].img=new egret.Bitmap,this.layers[r].layer.addChild(this.layers[r].img),this.layers[r].img.texture=RES.getRes(s.libName),this.layers[r].img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x,s.y),this.layers[r].img.alpha=s.al||1,a.layers[0].forEach(function(e,t){var i=0==t?e.frameNum?e.frameNum:1:this.layers[r].frameStopArr[t-1]+(e.frameNum?e.frameNum:1);this.layers[r].frameStopArr.push(i)},this)}}},this)},this),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimer,this)},t.prototype.onTimer=function(){this.layers.forEach(function(e,t,r){if(0!=e.frameStopArr.length)if(e.img){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1);for(var a=0;a<e.frameStopArr.length;a++)if(e.currentFrame<=e.frameStopArr[a]){i=a;break}var s=e.texture.layers[0][i];e.img.texture=RES.getRes(s.libName||e.texture.layers[0][0].libName),e.img.matrix=new egret.Matrix(s.a||1,s.b||0,s.c||0,s.d||1,s.x+(s.cx||0),s.y+(s.cy||0)),e.img.alpha=s.al||1}else e.currentFrame++,e.currentFrame==e.texture.totalFrame&&(e.currentFrame=1),e.imgArr.forEach(function(e,t){for(var r=this.frameStopArr[t].length-1,i=0;i<this.frameStopArr[t].length;i++)if(this.currentFrame<=this.frameStopArr[t][i]){r=i;break}var a=this.texture.layers[t][r],s=void 0!=a.x?this.texture.layers[t][0].libName:null;e.texture=RES.getRes(a.libName||s),e.matrix=new egret.Matrix(a.a,a.b,a.c,a.d,(a.x||0)+(a.cx||0),(a.y||0)+(a.cy||0)),e.alpha=a.al||1},e)},this)},t}(egret.Sprite);__reflect(tabView4.prototype,"tabView4");var tabViews=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){var e=this;this.name="tabViews",this.timer=new egret.Timer(33,10),this.timer1=new egret.Timer(33,10),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerCpl,this),this.timer1.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer1.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerCpl,this),this.graphics.beginFill(16777215,0),this.graphics.drawRect(0,0,640,1136),this.graphics.endFill(),this.touchEnabled=!0,this.tabViewsContainer=new egret.Sprite,this.tabViewsContainer.name="tabViewsContainer",this.addChild(this.tabViewsContainer),this.tabView1=new tabView1,this.tabView2=new tabView2,this.tabView3=new tabView3,this.tabView4=new tabView4,this.tabViewsContainer.addChild(this.tabView1),this.tabViewsContainer.addChild(this.tabView2),this.tabViewsContainer.addChild(this.tabView3),this.tabViewsContainer.addChild(this.tabView4),this.indicateView=new indicateView,this.addChild(this.indicateView),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),document.getElementsByTagName("video")[0].onloadstart=function(){-1!=document.getElementsByTagName("video")[0].src.indexOf("resource")?e.timer.start():e.timer1.start()}},t.prototype.onTimer=function(e){e.target===this.timer?this.alpha=this.parent.parent.getChildByName("main").alpha=this.parent.getChildByName("chooseBtnView").alpha=1-.1*e.target.currentCount:(this.parent.getChildByName("videoView")&&this.parent.removeChildAt(0),this.alpha=this.parent.parent.getChildByName("main").alpha=this.parent.getChildByName("chooseBtnView").alpha=0+.1*e.target.currentCount)},t.prototype.onTimerCpl=function(e){e.target===this.timer?(this.alpha=this.parent.parent.getChildByName("main").alpha=this.parent.getChildByName("chooseBtnView").alpha=0,this.videoView=new videoView,this.parent.addChildAt(this.videoView,0),this.timer.reset()):(this.alpha=this.parent.parent.getChildByName("main").alpha=this.parent.getChildByName("chooseBtnView").alpha=1,this.timer1.reset())},t.prototype.onTouchBegin=function(e){[0,1,2,3].forEach(function(e,t,r){this.$children[0].$children[t].alpha=0,egret.localStorage.getItem("index")==""+(t+1)&&egret.localStorage.setItem("vidIndex"+(t+1),"true"),egret.localStorage.setItem("vidIndex1","true")},this),document.getElementsByTagName("audio")[0].pause(),document.getElementsByTagName("video")[0].src="resource/"+egret.localStorage.getItem("index")+".mp4",document.getElementsByTagName("video")[0].load(),document.getElementsByTagName("video")[0].play()},t.prototype.onTouchTap=function(e){[0,1,2,3].forEach(function(e,t,r){this.$children[0].$children[t].alpha=egret.localStorage.getItem("index")==t+1+""?1:0},this),document.getElementsByTagName("video")[0].src="",document.getElementsByTagName("video")[0].load(),document.getElementsByTagName("audio")[0].play()},t}(egret.Sprite);__reflect(tabViews.prototype,"tabViews");var videoView=function(e){function t(){var t=e.call(this)||this;return t._currentFrame=0,t._currentFramePan=0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onTimer,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="videoView",this.graphics.beginFill(16777215,0),this.graphics.drawRect(0,0,640,1139),this.graphics.endFill(),this._videoBg=new egret.Bitmap,this._imgText=new egret.Bitmap,this._img=new egret.Bitmap,this._imgPan=new egret.Bitmap,this._videoBg.texture=RES.getRes("bottom"),this._imgText.texture=RES.getRes("t"+egret.localStorage.getItem("index"));var e=RES.getRes("pan1"),t=innerHeight/innerWidth*this.graphics.$renderNode.width;this._videoBg.y=t-this._videoBg.height,this._imgText.x=25,this._imgText.y=t-this._imgText.height-.18*this._videoBg.height,this._imgPan.x=this.graphics.$renderNode.width-e.textureWidth-5,this._imgPan.y=t-e.textureHeight-.11*this._videoBg.height,this.addChild(this._videoBg),this.addChild(this._img),this.addChild(this._imgPan),this.addChild(this._imgText),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimer,this)},t.prototype.onTimer=function(){this._currentFrame++,this._currentFramePan++,113===this._currentFrame&&(this._currentFrame=1),75===this._currentFramePan&&(this._currentFramePan=1),this._img.texture=RES.getRes(""+this._currentFrame),this._imgPan.texture=RES.getRes("pan"+this._currentFramePan)},t}(egret.Sprite);__reflect(videoView.prototype,"videoView");var xu=function(e){function t(){var t=e.call(this)||this;return t.layers=[],t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.name="xu",this.alpha=0,this._data=RES.getRes("ani").mcObjs;-1!=window.navigator.userAgent.indexOf("NetType")?0:50;this._data.xu.layers.forEach(function(e,t,r){this.layers[t]={},this.layers[t].frameStopArr=[],this.layers[t].currentFrame=0,this.layers[t].layer=new egret.Sprite,this.addChild(this.layers[t].layer),this.layers[t].img=new egret.Bitmap,this.layers[t].layer.addChild(this.layers[t].img),this.layers[t].texture=e,e.forEach(function(e,r){var i=0==r?e.frameNum||1:this.layers[t].frameStopArr[r-1]+(e.frameNum||1);this.layers[t].frameStopArr.push(i)},this)},this),this.timer=new egret.Timer(33,10),this.timer.start(),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)},t.prototype.onTimer=function(e){this.alpha=0+.1*e.target.currentCount},t.prototype.onEnterFrame=function(){this.layers.forEach(function(e,t,r){var i=e.frameStopArr.length-1;e.currentFrame++,e.currentFrame==this._data.xu.totalFrame&&(e.currentFrame=1);for(var t=0;t<e.frameStopArr.length;t++)if(e.currentFrame<=e.frameStopArr[t]){i=t;break}var a=e.texture[i],s=a.libName||e.texture[0].libName;e.img.texture=RES.getRes(s),e.img.matrix=new egret.Matrix(a.a||1,a.b||0,a.c||0,a.d||1,a.x+(a.cx||0),a.y+(a.cy||0)),e.img.alpha=a.al||1},this)},t}(egret.Sprite);__reflect(xu.prototype,"xu");